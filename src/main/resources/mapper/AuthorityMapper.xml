<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.winkel.qualityevaluation.dao.AuthorityDao">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.winkel.qualityevaluation.entity.Authority">
        <id column="id" property="id"/>
        <result column="url" property="url"/>
        <result column="authority_name" property="authority"/>
    </resultMap>

    <insert id="insertUserAuthority">
        insert into user_authority(user_id, authority_id) VALUES
        <trim prefix="(" suffix=")">
            <if test="userId != null">
                #{userId,jdbcType=VARCHAR},
            </if>
            <if test="authorityId != null">
                #{authorityId,jdbcType=INTEGER
            </if>
        </trim>

    </insert>

    <insert id="insertUserAuthorityBatch" parameterType="java.util.List">
        insert into user_authority(user_id, authority_id) VALUES
        <foreach collection="list" item="item" index="index" separator=",">
            (
             #{item.userId,jdbcType=VARCHAR},
             #{item.authorityId,jdbcType=INTEGER}
            )
        </foreach>
    </insert>

</mapper>
